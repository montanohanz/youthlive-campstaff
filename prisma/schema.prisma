// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = "file:./dev.db"
}


model Camp {
  id String @id @default(cuid())
  name String
  year String
  dateStart DateTime
  dateEnd DateTime
  location String
  group String
  staff_pax Int
  camper_pax Int
  campers Camper[]
  staff Staff[]
}

model Camper {
  id String @id @default(cuid())
  pco_id String?
  email String
  contact String
  name_first String
  name_last String
  bday DateTime @default(now())

  em_name String
  em_contact String
  em_relation String
  allergies String?

  paid Boolean
  paid_channel String
  paid_refno String?
  paid_DateTime DateTime @default(now())
  ygroup String
  bus String
  act_team String
  sponsor String?
  first_date DateTime @default(now())
  camps Camp[]
}

model Staff {
  id String @id @default(cuid())
  pco_id String
  email String
  role String @default("marshal")
  camps Camp[]
}

// model CamperPivot {
//   camper Camper @relation(fields: [camper_id], references: [id], onDelete: Cascade)
//   camper_id String // relation scalar field
//   camp Camp @relation(fields: [camp_id], references: [id], onDelete:Cascade)
//   camp_id String //relation scalar field
//   reg_time DateTime @default(now())

//   @@id([camper_id, camp_id])
// }

// model StaffPivot {
//   staff Staff @relation(fields: [staff_id], references: [id])
//   staff_id String // relation scalar field
//   camp Camp @relation(fields: [camp_id], references: [id])
//   camp_id String //relation scalar field
//   reg_time DateTime @default(now())

//   @@id([staff_id, camp_id])
// }


